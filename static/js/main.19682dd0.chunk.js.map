{"version":3,"sources":["components/header/index.js","components/header/header.js","components/item-status-filter/index.js","components/item-status-filter/item-status-filter.js","components/search/index.js","components/search/search.js","components/todo-list-item/index.js","components/todo-list-item/todo-list-item.js","components/todo-list/index.js","components/todo-list/todo-list.js","components/add-item/index.js","components/add-item/add-item.js","api/api.js","redux/todo-selectors.js","redux/todo-reducer.js","components/app/app.js","components/app/index.js","redux/store.js","index.js"],"names":["Header","toDo","done","style","display","justifyContent","alignItems","className","ItemStatusFilter","btnArr","filterName","btnName","this","props","filter","onFilterHandler","buttons","map","styleActive","type","onClick","Component","Search","state","searchText","searchHandler","e","text","target","value","setState","onSearchHandler","placeholder","onChange","TodoListItem","dealName","onItemDeleted","toggleImportant","toggleDone","classNames","important","TodoList","todos","onDeleted","elements","item","id","itemProps","AddItem","deal","onDealChange","onSubmit","preventDefault","addNewDeal","baseUrl","createDeal","newDeal","a","fetch","method","mode","headers","body","JSON","stringify","ok","Error","getActualDeals","response","json","updateDealStatus","changedDeal","dealId","deleteCurrentDeal","todoDataSelector","deals","todoData","DEAL_LIST_RECEIVED","initialState","dealsReducer","action","dealList","dealListReceivedAC","getDealListTC","dispatch","alert","App","onToggleImportant","changeDealStatus","onToggleDone","getDeals","dealsArr","length","toLowerCase","indexOf","el","deleteDeal","visibleDeals","search","doneCount","todoCount","mdtp","propName","getState","dealToChange","find","createdAt","Date","toISOString","connect","reducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","MainApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.19682dd0.chunk.js","sourcesContent":["import Header from './header'\n\nexport default Header;","import React from 'react';\nimport './header.css';\n\nconst Header = ({toDo, done}) => {\n\treturn ( \n\t\t<div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\n\t\t\t<h1 className=\"header\">Todo List</h1>\n\t\t\t<p className=\"deal-info\"><strong>{toDo}</strong> more to do, <strong>{done}</strong> done</p>\n\t\t</div>\n\t)\n}\n\nexport default Header;","import ItemStatusFilter from './item-status-filter';\n\nexport default ItemStatusFilter;","import React, { Component } from 'react';\nimport './item-status-filter.css'\n\nexport default class ItemStatusFilter extends Component {\n\tbtnArr = [\n\t\t{filterName: 'all', btnName: 'All'},\n\t\t{filterName: 'active', btnName: 'Active'},\n\t\t{filterName: 'done', btnName: 'Done'}\n\t];\n\t\n\trender() {\n\t\tconst {filter, onFilterHandler} = this.props;\n\n\t\tconst buttons = this.btnArr.map(({filterName, btnName}) => {\n\t\t\tconst isActive = filter === filterName;\n\t\t\tconst styleActive = isActive ? 'btn-info' : 'btn-outline-secondary';\n\n\t\t\treturn (\n\t\t\t\t<button type=\"button\"\n\t\t\t\t\t\t\t\tclassName={`btn ${styleActive}`}\n\t\t\t\t\t\t\t\tkey={filterName}\n\t\t\t\t\t\t\t\tonClick={() => onFilterHandler(filterName)} >\n\t\t\t\t\t{btnName}\n\t\t\t\t</button>\n\t\t\t);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"btn-group  item-status-filter\">\n\t\t\t\t{buttons}\n\t\t\t</div>\n\t\t);\n\t}\n}","import Search from './search';\n\nexport default Search;","import React, { Component } from 'react';\nimport './search.css';\n\nexport default class Search extends Component {\t\n\tstate = {\n\t\tsearchText: ''\n\t};\n\t\n\tsearchHandler = (e) => {\n\t\tconst text = e.target.value;\n\t\tthis.setState({ searchText: text});\n\n\t\tthis.props.onSearchHandler(text);\n\t}\n\t\n\trender() {\n\t\treturn (\n\t\t\t<input type='text'\n\t\t\t\t\t\t placeholder='Enter your deal'\n\t\t\t\t\t\t className=\"search\"\n\t\t\t\t\t\t value={this.state.searchText}\n\t\t\t\t\t\t onChange={this.searchHandler} />\n\t\t);\n\t};\n};","import TodoListItem from './todo-list-item';\n\nexport default TodoListItem;","import React, {Component} from 'react';\nimport './todo-list-item.css';\n\nexport default class TodoListItem extends Component {\t\n\trender() {\n\t\tconst {dealName, onItemDeleted, toggleImportant, toggleDone, done, important} = this.props;\n\n\t\tlet classNames = \"todo-list-item\";\n\n\t\tif(done) {\n\t\t\tclassNames += ' done'; \n\t\t}\n\t\tif(important) {\n\t\t\tclassNames += ' important'; \n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<span className={classNames}>\n\t\t\t\t<span className=\"todo-list-item-dealName\"\n\t\t\t\t\t\t\tonClick={toggleDone} >\n\t\t\t\t\t{dealName}\n\t\t\t\t</span>\n\t\n\t\t\t\t<button type=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-success btn-small\"\n\t\t\t\t\t\t\t\tonClick={toggleImportant} >\n\t\t\t\t\t<i className=\"fa fa-exclamation\" />\n\t\t\t\t</button>\n\t\n\t\t\t\t<button type=\"button\"\n\t\t\t\t\t\t\t\tclassName=\"btn btn-outline-danger btn-small\"\n\t\t\t\t\t\t\t\tonClick={onItemDeleted} >\n\t\t\t\t\t<i className=\"fa fa-trash-o\" />\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t);\n\t}\n}","import TodoList from './todo-list';\n\nexport default TodoList;\n","import React from 'react';\nimport TodoListItem from '../todo-list-item';\nimport './todo-list.css';\n\nconst TodoList = ({todos, onDeleted, toggleImportant, toggleDone}) => {\t\n\tconst elements = todos.map((item) => {\n\t\tconst { id, ...itemProps} = item;\n\n\t\treturn(\n\t\t\t<li key={id} className=\"list-group-item\">\n\t\t\t\t<TodoListItem\t{...itemProps}\n\t\t\t\t\t\t\t\t\t\t\tonItemDeleted={() => onDeleted(id)}\n\t\t\t\t\t\t\t\t\t\t\ttoggleImportant={() => toggleImportant(id)}\n\t\t\t\t\t\t\t\t\t\t\ttoggleDone={() => toggleDone(id)} />\n\t\t\t</li>\n\t\t)\n\t});\n\n\treturn (\n\t\t<ul className=\"list-group todoList\">\n\t\t\t{elements}\t\t\n\t\t</ul>\n\t);\n};\n\nexport default TodoList;","import AddItem from './add-item';\n\nexport default AddItem;","import React, {Component} from 'react';\nimport './add-item.css';\n\nexport default class AddItem extends Component {\n\tstate = {\n\t\tdeal: ''\n\t};\n\n\tonDealChange = (e) => {\n\t\tthis.setState({\n\t\t\tdeal: e.target.value\n\t\t});\n\t};\n\n\tonSubmit = (e) => {\n\t\te.preventDefault();\n\t\tthis.props.addNewDeal(this.state.deal);\n\n\t\tthis.setState({\n\t\t\tdeal: ''\n\t\t});\n\t};\n\t\n\trender() {\n\t\treturn (\n\t\t\t<form className='form-wrap'\n\t\t\t\t\t\tonSubmit={this.onSubmit}>\n\t\t\t\t<input type='text' \n\t\t\t\t\t\t\t className='form-control'\n\t\t\t\t\t\t\t onChange={this.onDealChange}\n\t\t\t\t\t\t\t placeholder='Write your a new deal'\n\t\t\t\t\t\t\t value={this.state.deal} />\n\n\t\t\t\t<button type='submit' \n\t\t\t\t\t\t\t\tclassName='btn add-item'>\n\t\t\t\t\t\tAdd a new deal\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t);\n\t};\n};","const baseUrl = 'https://601d2affbe5f340017a193db.mockapi.io/api/v1/deals';\n\nexport const createDeal = async (newDeal) => {\n\tconst response = await fetch(baseUrl, {\n\t\tmethod: 'POST',\n\t\tmode: 'cors',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json; charset=utf-8'\n\t\t},\n\t\tbody: JSON.stringify(newDeal)\n\t});\n\tif (!response.ok) {\n\t\tthrow new Error('Failed to add deal');\n\t}\n}\n\n\nexport const getActualDeals = async () => {\n\tconst response = await fetch(baseUrl);\n\tif (!response.ok) {\n\t\tthrow new Error('Failed to get deals');\n\t} else {\n\t\treturn await response.json();\n\t}\n}\n\n\nexport const updateDealStatus = async (changedDeal, dealId) => {\n\tconst response = await fetch(`${baseUrl}/${dealId}`, {\n\t\tmethod: 'PUT',\n\t\tmode: 'cors',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json; charset=utf-8'\n\t\t},\n\t\tbody: JSON.stringify(changedDeal)\n\t})\n\n\tif(!response.ok) {\n\t\tthrow new Error('Failed to change deal property');\n\t}\n}\n\n\nexport const deleteCurrentDeal = async (dealId) => {\t\t\n\tconst response = await fetch(`${baseUrl}/${dealId}`, {\n\t\tmethod: 'DELETE'\n\t})\n\t\n\tif(!response.ok) {\n\t\tthrow new Error('Failed to delete deal');\n\t}\n};","export const todoDataSelector = state => state.deals.todoData;","import { getActualDeals,\n\t\t\t\t updateDealStatus,\n\t\t\t\t deleteCurrentDeal,\n\t\t\t\t createDeal } from '../api/api.js';\nimport { todoDataSelector } from './todo-selectors.js';\n\nexport const DEAL_LIST_RECEIVED = 'TODO/DEAL_LIST_RECEIVED';\n\nconst initialState  = {\n\ttodoData: []\n}\n\n//Reducer\nconst dealsReducer = (state = initialState, action) => {\n\tswitch(action.type) {\n\t\tcase DEAL_LIST_RECEIVED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttodoData: action.dealList\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\nexport default dealsReducer;\n\n\n//Action Creator\nexport const dealListReceivedAC = (dealList) => {\n\treturn {\n\t\ttype: DEAL_LIST_RECEIVED,\n\t\tdealList\n\t}\n}\n\n//Thunk Creator\nexport const getDealListTC = () => async (dispatch) => {\n\ttry {\n\t\tconst dealList = await getActualDeals();\n\t\tdispatch(dealListReceivedAC(dealList));\n\t}\n\tcatch(error) {\n\t\talert(`Get deal list ${error}`)\n\t}\n};\n\n\nexport const updateDealStatusTC = (dealId, propName) => async (dispatch, getState) => {\n\ttry {\n\t\tconst state = getState();\n\t\tconst deals = todoDataSelector(state);\n\n\t\tconst dealToChange = deals.find(deal => deal.id === dealId);\n\n\t\tconst changedDeal = {\n\t\t\t...dealToChange,\n\t\t\t[propName]: !dealToChange[propName]\n\t\t}\n\t\t\n\t\tawait updateDealStatus(changedDeal, dealId)\n\t\tdispatch(getDealListTC())\n\t}\n\tcatch(error) {\n\t\talert(`Update deal status (done/important) ${error}`)\n\t}\n};\n\n\nexport const deleteDealTC = (dealId) => async (dispatch) => {\n\ttry {\n\t\tawait deleteCurrentDeal(dealId);\n\t\tdispatch(getDealListTC())\n\t}\n\tcatch(error) {\n\t\talert(`Delete deal ${error}`)\n\t}\n};\n\n\nexport const createDealTC = (text) => async (dispatch) => {\n\ttry {\n\t\tconst newDeal = {\n\t\t\tdealName: text,\n\t\t\timportant: false,\n\t\t\tdone: false,\n\t\t\tcreatedAt: new Date().toISOString()\n\t\t}\n\n\t\tawait createDeal(newDeal);\n\t\tdispatch(getDealListTC());\n\t}\n\tcatch(error) {\n\t\talert(`Create new deal ${error}`)\n\t}\n}","import React, {Component} from 'react';\nimport Header from '../header';\nimport ItemStatusFilter from '../item-status-filter';\nimport Search from '../search';\nimport TodoList from '../todo-list';\nimport AddItem from '../add-item';\nimport './app.css';\nimport { connect } from 'react-redux';\nimport { getDealListTC,\n\t\t\t\t updateDealStatusTC,\n\t\t\t\t deleteDealTC,\n\t\t\t\t createDealTC } from '../../redux/todo-reducer.js';\nimport { todoDataSelector } from '../../redux/todo-selectors.js';\n\n\nclass App extends Component {\t\n\tstate = {\n\t\tsearchText: '',\n\t\tfilter: 'all' // active | all(default) | done\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getDeals();\n\t}\n\t\n\taddNewDeal = (text) => {\n\t\tthis.props.createDeal(text);\n\t}\n\t\n\tonToggleImportant = (dealId) => {\t\t\n\t\tthis.props.changeDealStatus(dealId, 'important');\n\t}\n\tonToggleDone = (dealId) => {\n\t\tthis.props.changeDealStatus(dealId, 'done');\t\t\n\t};\n\n\tsearch(dealsArr, searchText) {\n\t\tif(searchText.length === 0) {\n\t\t\treturn dealsArr;\n\t\t}\n\t\t\n\t\treturn dealsArr.filter(deal => {\n\t\t\treturn deal.dealName.toLowerCase().indexOf(searchText) > -1;\n\t\t});\n\t};\n\n\tonSearchHandler = (text) => {\n\t\tthis.setState({searchText: text});\n\t};\n\n\tfilter(dealsArr, filterName) {\n\t\tswitch(filterName) {\n\t\t\tcase 'all':\n\t\t\t\treturn dealsArr;\n\t\t\tcase 'active':\n\t\t\t\treturn dealsArr.filter((el) => !el.done);\n\t\t\tcase 'done':\n\t\t\t\treturn dealsArr.filter((el) => el.done);\n\t\t\tdefault:\n\t\t\t\treturn dealsArr;\n\t\t}\n\t}\n\n\tonFilterHandler = (filterName) => {\n\t\tthis.setState({filter: filterName});\n\t}\n\n\trender() {\n\t\tconst {todoData, deleteDeal} = this.props;\n\t\tconst {searchText, filter} = this.state;\n\t\tconst visibleDeals = this.filter(this.search(todoData, searchText), filter);\n\t\t\n\t\tconst doneCount = todoData.filter((el) => el.done === true).length;\n\t\tconst todoCount = todoData.length - doneCount;\n\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t\t<Header toDo={todoCount} done={doneCount} />\n\n\t\t\t\t<Search onSearchHandler={this.onSearchHandler}/>\n\t\t\t\t\n\t\t\t\t<ItemStatusFilter\tfilter={filter}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFilterHandler={this.onFilterHandler} />\n\n\t\t\t\t<TodoList todos={visibleDeals}\n\t\t\t\t\t\t\t\t\tonDeleted={deleteDeal}\n\t\t\t\t\t\t\t\t\ttoggleImportant={this.onToggleImportant}\n\t\t\t\t\t\t\t\t\ttoggleDone={this.onToggleDone}/>\n\n\t\t\t\t<AddItem addNewDeal={this.addNewDeal}/>\n\t\t\t</div>\n\t\t);\n\t}\n};\n\nconst mstp = state => {\n\treturn {\n\t\ttodoData: todoDataSelector(state)\n\t}\n}\n\nconst mdtp = {\n\tgetDeals: getDealListTC,\n\tchangeDealStatus: updateDealStatusTC,\n\tdeleteDeal: deleteDealTC,\n\tcreateDeal: createDealTC\n}\n\nexport default connect(mstp, mdtp)(App);","import App from './app';\n\nexport default App;","import { combineReducers, createStore, compose, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport dealsReducer from './todo-reducer.js';\n\nconst reducer = combineReducers({\n\tdeals: dealsReducer,\n})\n\n//Chrome-extension (REDUX)\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nconst MainApp = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<App/>\n\t\t</Provider>\n\t)\n}\n\nReactDOM.render(<MainApp/>, document.getElementById('root'));"],"sourceRoot":""}